@model IEnumerable<GerenciadorTarefas.Models.Tarefa>

@{
    ViewData["Title"] = "Gerenciador de Tarefas";
}

<div class="main-card animate-fade-in">
    <div class="main-header">
        <h1>‚ú® Gerenciador de Tarefas</h1>
        <p>Organize sua vida com eleg√¢ncia e simplicidade</p>
    </div>

    <div style="padding: 2rem; display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid var(--gray-200);">
        <div>
            <h2 style="margin: 0; font-family: 'Playfair Display', serif; font-weight: 600; color: var(--gray-800);">
                Minhas Tarefas
            </h2>
            <p style="margin: 0.5rem 0 0; color: var(--gray-600);">
                @if (Model.Any())
                {
                    var completed = Model.Count(t => t.Concluida);
                    var total = Model.Count();
                    <span>@completed de @total tarefas conclu√≠das</span>
                }
                else
                {
                    <span>Nenhuma tarefa criada ainda</span>
                }
            </p>
        </div>
        <a asp-action="Create" class="btn-elegant">
            <span>‚ûï</span>
            Nova Tarefa
        </a>
    </div>

    @if (Model.Any())
    {
        <div class="task-grid">
            @foreach (var item in Model)
            {
                <div class="task-card @(item.Concluida ? "completed" : "") animate-fade-in">
                    <div class="task-title">@Html.DisplayFor(modelItem => item.Titulo)</div>
                    
                    @if (!string.IsNullOrEmpty(item.Descricao))
                    {
                        <div class="task-content">@Html.DisplayFor(modelItem => item.Descricao)</div>
                    }
                    
                    <div class="task-meta">
                        <div class="task-date">
                            <span>üìÖ</span>
                            @item.DataCriacao.ToString("dd/MM/yyyy")
                        </div>
                        <div class="task-status @(item.Concluida ? "completed" : "pending")">
                            @if (item.Concluida)
                            {
                                <span>‚úÖ Conclu√≠da</span>
                            }
                            else
                            {
                                <span>‚è≥ Pendente</span>
                            }
                        </div>
                    </div>
                    
                    <div class="task-actions">
                        <a asp-action="Edit" asp-route-id="@item.Id" class="btn-action btn-action-edit">
                            ‚úèÔ∏è Editar
                        </a>
                        <a asp-action="Delete" asp-route-id="@item.Id" class="btn-action btn-action-delete">
                            üóëÔ∏è Excluir
                        </a>
                    </div>
                </div>
            }
        </div>
    }
    else
    {
        <div class="empty-state">
            <div class="empty-state-icon">ÔøΩ</div>
            <h3>Nenhuma tarefa encontrada</h3>
            <p>Comece criando sua primeira tarefa para organizar seu dia</p>
            <a asp-action="Create" class="btn-elegant">
                <span>‚ú®</span>
                Criar Primeira Tarefa
            </a>
        </div>
    }
</div>